import tkinter as tk
from RefreshMedia import refreshCSV, pathList, fileList, xformIDList


def button_click(button_name):
    index = [name for name, _ in button_names].index(button_name)
    if index <= 2:
        p, f, x = pathList[index], fileList[index], xformIDList[index]
        result = refreshCSV(p, f, x)
    else:
        p, f = pathList[index], fileList[index]
    result = refreshCSV(p, f)
    #print(f"Button clicked: {button_name}")

root = tk.Tk()
root.title("Button Box")

# Create label frames for each group of buttons
frame1 = tk.LabelFrame(root, text="IM Files")
frame2 = tk.LabelFrame(root, text="HELIOS internal")
frame3 = tk.LabelFrame(root, text="Outreach files")
frame4 = tk.LabelFrame(root, text="KoBo CSVs")

# Pack the label frames
frame1.pack(padx=10, pady=5, fill=tk.X)
frame2.pack(padx=10, pady=5, fill=tk.X)
frame3.pack(padx=10, pady=5, fill=tk.X)
frame4.pack(padx=10, pady=5, fill=tk.X)

# Create buttons and add them to their respective frames
button_names = [
    ("Accommodation Services csv", frame4),
    ("Matchmaking csv", frame4),
    ("MD csv", frame4),
    ("Individuals", frame1),
    ("Outreach v2", frame3),
    ("HELIOS DB", frame2),
    ("Contacts", frame1),
    ("Partners Outreach", frame3),
    ("Accommodation Outreach", frame3),
    
]

for button_name, frame in button_names:
    button = tk.Button(frame, text=button_name, command=lambda name=button_name: button_click(name))
    button.pack(side=tk.LEFT, padx=5, pady=5)

root.mainloop()
